#  Разработка приложения Stets для умного дома

## Задача
Провести системный анализ для разработки требований к приложению и создания прототипа первой версии MVP.

**Контекст:** компания обратилась для разработки приложения Stets для умного дома. Причина - выпуск инновационной умной лампочки с уникальной функцией энергосбережения, не поддерживаемой существующими приложениями для умного дома.

**Заказчик:** компания Stets

## Процесс работы

## Анализ интервью

Провела анализ интервью с [заинтересованными лицами](). Выделила из интервью заказчиком и пользователями функции, которые необходимы в первой итерации MVP.

<details>
  <summary><b>Обязательные функции MVP</b></summary>

  <ul>
    <li>Регистрация</li>
    <li>Авторизация / Аутентификация с помощью эл.почты и пароля</li>
    <li>Выход из учётной записи</li>
    <li>Восстановление пароля</li>
    <li>Замена эл.почты</li>
    <li>Добавление пользователя</li>
    <li>Добавление устройства через QR код</li>
    <li>Добавление устройства вручную</li>
    <li>Удаление устройства</li>
    <li>Выбор энергосберегающего режима</li>
    <li>Добавление комнаты</li>
    <li>Удаление комнаты</li>
    <li>Изменение данных комнаты</li>
    <li>Управление освещением</li>
    <li>Добавление устройства в комнату</li>
    <li>Удаление устройства из комнаты</li>
    <li>Управление всеми устройствами в комнате сразу</li>
    <li>Создание сценария автоматизации</li>
    <li>Запуск сценария автоматизации вручную</li>
    <li>Создание сценария с ручным запуском</li>
    <li>Создание сценария с автоматическим запуском</li>
    <li>Принудительный запуск сценария, с заданным расписанием</li>
    <li>Удаление сценария автоматизации</li>
  </ul>
</details>

<details>
  <summary><b>Общие требования</b></summary>
  
  #### Объекты приложения:
  <ul>
    <li>Пользователь</li>
    <li>Дом</li>
    <li>Комната</li>
    <li>Устройство</li>
    <li>Сценарий</li>
  </ul>

  #### Требования к функциональности:

  #### Создание дома:
  * Автоматическое создание первого дома после регистрации пользователя.

  #### Управление домами:
  * Возможность управления несколькими домами одним пользователем.
  * Максимальное количество домов на одного пользователя: 10.

  #### Комнаты:
  * Максимальное количество комнат в одном доме: 10.
  * Комнаты могут иметь уникальные названия и иконки из предустановленного набора.
  * Пользователь может добавлять устройства без привязки к комнатам.

  #### Устройства:
  * Каждое устройство должно иметь уникальный 12-значный код для идентификации.
  * Максимальное количество устройств в одном доме: 100.
  * Пользователь может присваивать индивидуальные названия устройствам.
  * **Статусы устройства:**
    * Включено
    * Выключено
    * Недоступно

  #### Сценарии автоматизации:
  * Максимальное количество сценариев: 10.
  * В первой версии сценарии должны быть простыми (включение/выключение устройств по расписанию или вручную).
  * Возможность добавления нескольких устройств в один сценарий с указанием их состояния (включить/выключить).

  #### Свойства сценария:
  * Дни недели и время запуска.
  * Название сценария (до 30 знаков).
  * Время окончания сценария.
  * Отдельный сценарий на выключение освещения в нужное время. Пользователь может создать отдельный сценарий, который автоматически выключает освещение в заданное время.

  #### Требования к пользователю:
  
  #### Регистрация пользователя:
  * Регистрация через электронную почту и пароль.
  * Электронная почта используется как логин и для отправки уведомлений.
  * Необходимо имя пользователя для идентификации.

  #### Требования к паролю:
  * Длина от 8 до 16 символов.
  * Должен содержать как минимум одну строчную и одну прописную букву латинского алфавита.
</details>




## Карта пользовательских историй и MVP

Составила [User Story Map (USM)]() для приложения умного дома, включающая User Stories, сформулированные в соответствии с принципами INVEST. Пользовательские истории, вошедшие в MVP, дополнены критериями и сценариями приемки, написанными на языке Gherkin.


## DFD контекстного и логического уровня

Процессы смоделированы с использованием диаграммы потоков данных (DFD).

![Обновленная диаграмма UML]()
<p align="center">Рис 1. DFD контекстного уровня </p>


![Обновленная диаграмма UML]()
<p align="center">Рис 2. DFD логического уровня  </p>

## Логическая ER-модель в 3 НФ

Смоделирована структура данных с использованием логической ER-диаграммы в нотации Crow's Foot (нотация Мартина), приведенной к третьей нормальной форме (3НФ).
![Обновленная диаграмма UML]()
<p align="center">Рис 3. Логическая ER-модель в 3НФ </p>

## Словарь данных

Написан словарь данных с описанием атрибутов сущностей и типов данных, используемых в приложении.

| Элемент данных | Описание | Состав или тип данных | Длина | Значения |
|---|---|---|---|---|
| **Пользователь** | Данные пользователя, указанные при регистрации |Электронная почта<br>+ Имя пользователя<br>+ Пароль пользователя |  |  |
| Электронная почта | Адрес электронной почты пользователя, предоставленный при регистрации. | Символьно-числовое значение | 100 | Должен содержать символ @ |
| Имя | Имя пользователя | Символьное значение | 60 |  |
| Пароль | Пароль пользователя, предоставленный при регистрации. Используется для аутентификации. | Символьно-числовое значение | 8-16 | Должен содержать минимум 1 строчную и 1 прописную букву латинского алфавита |
| **Дом** | Дом для управления | Код дома<br>+ Название дома<br>+ 1:10 {дом}<br>+ 1:10 {комнат}<br>+ 1:10 {сценариев}<br>+ 1:100 {устройств} |  |  |
| Код дома | Синтетический первичный ключ дома | Целое и положительное | 12 |  |
| Название дома | Название дома, задается пользователем | Символьное значение | 30 |  |
| Доступ к дому | Связывает пользователей с домами, определяя уровень доступа | Электронная почта<br>+ Код дома<br>+ Уровень доступа |  |  |
| Уровень доступа | Уровень прав пользователя | Символьное значение |  |  |
| **Комната** | Помещения различного типа | Код комнаты<br>+ Код дома<br>+ Код типа комнаты<br>+ Название комнаты |  |  |
| Код комнаты | Синтетический первичный ключ комнаты | Целое и положительное | 20 |  |
| Код типа комнаты | Синтетический первичный ключ типа комнаты | Целое и положительное | 20 |  |
| Название комнаты | Название комнаты, предлагаемое системой на основе выбранного типа комнаты “Спальня”, или заданное пользователем вручную | Символьно-числовое значение | 30 | Тип комнаты + цифра при повторе, или любое название |
| **Тип комнаты** |  |  Код типа комнаты<br>+ Название типа комнаты<br>+ Иллюстрация комнаты|  |  |
| Код типа комнаты | Синтетический первичный ключ типа комнаты | Целое и положительное | 20 |  |
| Название типа комнаты | Типа комнат (например, “Тип: Спальня”). | Символьное значение | 30 |  |
| Иллюстрация комнаты | Изображение со значением типа комнаты | Файл |  | .img |
| **Устройство** | Устройства пользователя добавленные в приложение умного дома | ID устройства<br>+ Код модели устройства<br>+ Код дома<br>+ Код комнаты<br>+ Название устройства<br>+ Статус устройства<br>+ Статус режима энергосбережения<br>+ Цвет<br>+ Яркость  |  |  |
| ID устройства | Уникальный 12-значный код для идентификации | Числовое значение | 12 |  |
| Код модели устройства | Уникальный код модели устройства | Символьно-числовое значение | 25 |  |
| Название устройства | Название устройства заданное пользователем | Символьное значение | 30 |  |
| Статус устройства | Состояние устройства | Символьное значение | 10 | Включено, не включено, недоступно |
| Статус режима энергосбережения | Статус режим энергосбережения для устройства | Символьное значение | 10 | Включено, не включено, недоступно |
| Цвет | Оттенок цвета | Символьно-числовое значение | 25 |  |
| Яркость | Интенсивность цвета | Числовое значение | 25 |  |
| **Модель устройства** | Информация о типе и характеристиках устройства | Код модели устройства<br> Код типа устройства |  |  |
| Код модели устройства | Уникальный код модели устройства | Символьно-числовое значение | 25 |  |
| Код типа устройства | Уникальный код типа устройства | Символьно-числовое значение | 25 |  |
| **Тип устройства** |  | Код типа устройства<br>+ Тип устройства |  |  |
| Код типа устройства | Уникальный код типа устройства | Символьно-числовое значение | 25 |  |
| Тип устройства | Информация о типе устройства (лампочка, розетка) | Символьное значение | 30 |  |
| **Сценарий** | Сценарии заданные пользователем для автоматизации управления умным домом | Код сценария<br>+ Код дома<br>+ Название сценария<br>+ Тип запуска<br>+ Время запуска<br>+ Дни недели<br>+ Статус сценария  |  |  |
| Код сценария | Синтетический первичный ключ кода сценария | Целое и положительное | 12 |  |
| Название сценария | Название сценария присвоенное пользователем | Символьное значение | 30 |  |
| Тип запуска | Тип запуска: ручной или автоматический | Символьное значение | 30 |  |
| Время запуска | Время начала сценария | Время ЧЧ:MM |  |  |
| Дни недели | Дни недели в которые должен срабатывать сценарий автоматизации | Символьное значение |  |  |
| Статус сценария | Состояние сценария | Символьное значение | 10 | Не включен, включен, завершен, недоступен |
| **Сценарий устройство** |  | Код сценария<br>+ ID устройства<br>+ Статус устройства |  |  |
| Код сценария | Синтетический первичный ключ кода сценария | Целое и положительное |  |  |
| ID устройства | Уникальный 12-значный код для идентификации | Числовое значение | 12 |  |
| Статус устройства | Состояние устройства | Символьное значение | 10 | Включено, не включено, недоступно |
| **День недели в сценарии** | Связывает сценарии с днями недели | Код сценария<br>+ Код дня недели<br>+ Код дома |  |  |
| Код сценария | Синтетический первичный ключ кода сценария | Целое и положительное | 12 |  |
| Код дня недели | Синтетический первичный ключ кода дня недели | Целое и положительное | 12 |  |
| Код дома | Синтетический первичный ключ дома | Целое и положительное | 12 |  |
| **День недели** | Дни недели для запуска сценариев |  Код дня недели<br>+ Название дня недели |  |  |
| Код дня недели | Синтетический первичный ключ дня недели | Целое и положительное | 12 |  |
| Название дня недели | День недели для выбора запуска сценария | Символьное значение | 15 | Пн, Вт, Ср, Чт, Пт, Сб, Вс |
| **Код подтверждения** |  | Код<br>+ Тип кода<br>+ Электронная почта (новая)<br>+ Дата и время создания<br>+ Дата и время истечения |  |  |
| Код подтверждения | Синтетический первичный ключ кода сценария | Целое и положительное | 12 |  |
| Тип кода | Тип кода: восстановление пароля или замена email | Символьное значение | 30 |  |
| Электронная почта (новая) | Электронный адрес, который пользователь пытается установить | Символьно-числовое значение | 100 | Должен содержать символ @ |
| Дата и время создания | Дата и время, когда был сгенерирован код подтверждения | Дата, время, дд.мм.гггг чч:мм |  |  |
| Дата и время истечения | Дата и время, когда код подтверждения становится недействительным | Дата, время, дд.мм.гггг чч:мм |  |  |


## Разработка прототипа

Спроектированы раскадровки (сториборды) в [Figma]() для всех функций приложения, включенных в MVP, с учетом диаграммы потоков данных и логической модели данных.

![Обновленная диаграмма UML]()
<p align="center">Рис 4. Формирование устройств в доме </p>

## Программа и методика испытаний (ПМИ)

В рамках [ПМИ]() были выполнены следующие действия:

*   Использован стандартный шаблон ПМИ для структурирования документа;
*   Заполнены все пункты шаблона ПМИ, адаптированные под особенности разработанного прототипа;
*   В ПМИ отражены основные функции MVP.




